# Dotfiles v2.0

ãƒ¢ãƒ€ãƒ³ã§åŠ¹ç‡çš„ãªdotfilesç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## âœ¨ ç‰¹å¾´

- **ğŸš€ ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«** - 1ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§ç’°å¢ƒæ§‹ç¯‰ãŒå®Œäº†
- **ğŸ”„ åŒæ–¹å‘åŒæœŸ** - ãƒ­ãƒ¼ã‚«ãƒ«ã®å¤‰æ›´ã‚‚ç°¡å˜ã«ãƒªãƒã‚¸ãƒˆãƒªã«åæ˜ 
- **ğŸ“¦ çµ±ä¸€ã•ã‚ŒãŸCLI** - `dot`ã‚³ãƒãƒ³ãƒ‰ã§ã™ã¹ã¦ã®æ“ä½œã‚’å®Ÿè¡Œ
- **âš™ï¸ å®£è¨€çš„è¨­å®š** - YAMLãƒ™ãƒ¼ã‚¹ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†
- **ğŸ’¾ è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§å®‰å…¨ã«ç®¡ç†
- **ğŸ” è‡ªå‹•æ¤œå‡º** - æ–°ã—ã„dotfilesã‚’è‡ªå‹•çš„ã«ç™ºè¦‹
- **ğŸ¯ é¸æŠçš„åŒæœŸ** - ç‰¹å®šã®ã‚°ãƒ«ãƒ¼ãƒ—ã®ã¿ã‚’åŒæœŸå¯èƒ½
- **ğŸ—ï¸ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ** - macOS/Linuxå¯¾å¿œ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
curl -fsSL https://raw.githubusercontent.com/sotayamashita/dotfiles/main/install.sh | bash
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã‚’è‡ªå‹•çš„ã«å®Ÿè¡Œã—ã¾ã™ï¼š
- å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆXcode CLTã€Homebrewç­‰ï¼‰
- dotfilesãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
- `dot`ã‚³ãƒãƒ³ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# dotfilesã®åˆæœŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
dot install

# çŠ¶æ…‹ã‚’ç¢ºèª
dot status
```

## ğŸ“– ä½¿ã„æ–¹

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«/åˆæœŸè¨­å®š
dot install

# åŒæ–¹å‘åŒæœŸ
dot sync

# ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰æœ€æ–°ã‚’å–å¾—
dot update

# ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª
dot status

# å·®åˆ†ã‚’è¡¨ç¤º
dot diff

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
dot backup

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
dot restore [backup-name]

# æ–°ã—ã„dotfilesã‚’æ¤œå‡º
dot discover

# ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
dot help
```

### é«˜åº¦ãªä½¿ã„æ–¹

#### ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ãƒ¢ãƒ¼ãƒ‰

å®Ÿéš›ã®å¤‰æ›´ã‚’è¡Œã‚ãšã«ã€ä½•ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªï¼š

```bash
dot sync --dry-run
```

#### é¸æŠçš„åŒæœŸ

ç‰¹å®šã®ã‚°ãƒ«ãƒ¼ãƒ—ã®ã¿ã‚’åŒæœŸï¼š

```bash
dot sync --only=git,fish
```

#### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨å¾©å…ƒ

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
dot backup

# åˆ©ç”¨å¯èƒ½ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ç¢ºèª
dot restore

# ç‰¹å®šã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
dot restore 20240101-120000
```

## âš™ï¸ è¨­å®š

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `config/dotfiles.yaml` ã§ç®¡ç†ï¼š

```yaml
dotfiles:
  - name: git
    files:
      - source: .gitconfig
        target: ~/.gitconfig
    platform: all
    
  - name: fish
    files:
      - source: .config/fish/
        target: ~/.config/fish/
        type: directory
    platform: all

brew:
  formulas:
    - fish
    - starship
  casks:
    - visual-studio-code

hooks:
  pre_install:
    - scripts/pre-install.sh
  post_install:
    - scripts/post-install.sh
```

### è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

- **dotfiles**: ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚°ãƒ«ãƒ¼ãƒ—
  - `name`: ã‚°ãƒ«ãƒ¼ãƒ—å
  - `files`: ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚¹ãƒˆ
    - `source`: ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‘ã‚¹
    - `target`: ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‘ã‚¹
    - `type`: `file`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã¾ãŸã¯ `directory`
  - `platform`: `all`ã€`macos`ã€ã¾ãŸã¯ `linux`

- **brew**: Homebrewãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆmacOSã®ã¿ï¼‰
  - `taps`: Homebrewã‚¿ãƒƒãƒ—
  - `formulas`: Homebrewãƒ•ã‚©ãƒ¼ãƒŸãƒ¥ãƒ©
  - `casks`: Homebrewã‚­ãƒ£ã‚¹ã‚¯

- **hooks**: ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  - `pre_install`: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰ã«å®Ÿè¡Œ
  - `post_install`: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«å®Ÿè¡Œ
  - `pre_sync`: åŒæœŸå‰ã«å®Ÿè¡Œ
  - `post_sync`: åŒæœŸå¾Œã«å®Ÿè¡Œ

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
dotfiles/
â”œâ”€â”€ dot                    # ãƒ¡ã‚¤ãƒ³CLIãƒ„ãƒ¼ãƒ«
â”œâ”€â”€ install.sh            # ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ config/
â”‚   â””â”€â”€ dotfiles.yaml     # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ installers/       # å„ç¨®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ hooks/           # ãƒ•ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ lib/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ .config/             # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â”œâ”€â”€ fish/
â”‚   â”œâ”€â”€ starship.toml
â”‚   â””â”€â”€ ...
â”œâ”€â”€ .claude/             # Claudeè¨­å®š
â””â”€â”€ docs/               # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

## ğŸ”„ ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼š

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’æ›´æ–°
cd ~/Projects/dotfiles
git pull

# æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
./install.sh

# è¨­å®šã‚’ç§»è¡Œ
dot install
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### PATHã«`dot`ã‚³ãƒãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# PATHã«è¿½åŠ 
export PATH="${HOME}/.local/bin:${PATH}"

# ã‚·ã‚§ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«æ°¸ç¶šåŒ–
echo 'export PATH="${HOME}/.local/bin:${PATH}"' >> ~/.bashrc
```

### SSHã‚¢ã‚¯ã‚»ã‚¹ãŒã§ããªã„

1Password SSH Agentã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆï¼š

```bash
# 1Password CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
brew install --cask 1password/tap/1password-cli

# SSHè¨­å®šã‚’ç¢ºèª
cat ~/.ssh/config
```

### åŒæœŸæ™‚ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ

```bash
# å·®åˆ†ã‚’ç¢ºèª
dot diff

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã¦ã‹ã‚‰åŒæœŸ
dot backup
dot sync
```

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

Issueå ±å‘Šã‚„Pull Requestã¯æ­“è¿ã§ã™ï¼

[GitHub Issues](https://github.com/sotayamashita/dotfiles/issues)